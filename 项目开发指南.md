# ğŸ“ æ–°æ‰‹å¼€å‘ä¿å§†çº§æŒ‡å— (Beginner's Guide)

æ¬¢è¿åŠ å…¥å¼€å‘å›¢é˜Ÿï¼è¿™ä»½æŒ‡å—å°†æ‰‹æŠŠæ‰‹æ•™ä½ å¦‚ä½•åœ¨è¿™ä¸ª **Spring Boot 3 + Vue 3** çš„é¡¹ç›®ä¸­å†™ä¸‹ä½ çš„ç¬¬ä¸€è¡Œä»£ç ã€‚åˆ«æ‹…å¿ƒï¼Œæˆ‘ä»¬ä¸è®²å¤æ‚çš„æ¶æ„ç†è®ºï¼Œåªæ•™ä½ å®æ“ã€‚

---

## 1. âš¡ï¸ å¿«é€Ÿç¯å¢ƒå‡†å¤‡ (Environment Setup)

åœ¨å¼€å§‹ä¹‹å‰ï¼Œè¯·ç¡®ä¿ä½ çš„ç”µè„‘è£…å¥½äº†ä»¥ä¸‹â€œå››å¤§é‡‘åˆšâ€ã€‚å¦‚æœæ²¡æœ‰ï¼Œè¯·ç«‹å³å®‰è£…ã€‚

### å¿…å¤‡è½¯ä»¶
1.  **JDK 17** (å¿…é¡»æ˜¯ 17+ï¼Œå› ä¸ºæˆ‘ä»¬ç”¨äº† Spring Boot 3)
2.  **Node.js 18+** (å‰ç«¯è¿è¡Œç¯å¢ƒ)
3.  **MySQL 8.0** (æ•°æ®åº“)
4.  **Redis** (ç¼“å­˜ï¼ŒWindowsç”¨æˆ·å» github ä¸‹ä¸ªåŒ…è§£å‹è¿è¡Œå³å¯)
5.  **IDEæ¨è**: åç«¯ç”¨ **IntelliJ IDEA**ï¼Œå‰ç«¯ç”¨ **VS Code**ã€‚

### å¯åŠ¨é¡¹ç›®
å‡è®¾ä½ å·²ç»æ‹‰å–äº†ä»£ç ï¼š
1.  **æ•°æ®åº“**: æ‰“å¼€ MySQLï¼Œåˆ›å»ºä¸€ä¸ªç©ºåº“ `video_generation_platform`ï¼Œç„¶åè¿è¡Œé¡¹ç›®æ ¹ç›®å½•ä¸‹çš„ `schema.sql` å»ºè¡¨ã€‚
2.  **åç«¯**: ç”¨ IDEA æ‰“å¼€ `backend` æ–‡ä»¶å¤¹ï¼Œç­‰å¾… Maven ä¾èµ–ä¸‹è½½å®Œï¼Œæ‰¾åˆ° `VideoPlatformApplication.java` å³é”®è¿è¡Œã€‚
3.  **å‰ç«¯**: ç”¨ VS Code æ‰“å¼€ `frontend` æ–‡ä»¶å¤¹ï¼Œæ‰“å¼€ç»ˆç«¯è¿è¡Œï¼š
    ```bash
    npm install  # å®‰è£…ä¾èµ– (å»ºè®®ç”¨ cnpm æˆ– yarn)
    npm run dev  # å¯åŠ¨é¡¹ç›®
    ```

---

## 2. ğŸ—º åç«¯å¼€å‘åœ°å›¾ (Backend Map)

åç«¯ä»£ç éƒ½æ˜¯ä¸ºäº†â€œç®¡ç†æ•°æ®â€ã€‚æƒ³è±¡è¿™æ˜¯ä¸€åº§åŸå¸‚ï¼Œæ¯ä¸ªæ¨¡å—è´Ÿè´£ç®¡è¾–ä¸åŒçš„æ•°æ®åŒºåŸŸã€‚

### 2.1 é¢†åœ°åˆ’åˆ† (æ¨¡å—å½’å±)
**è¿™æ˜¯æˆ‘ä»¬çš„æ ¸å¿ƒæ³•åˆ™**ï¼šæ¯å¼ æ•°æ®è¡¨éƒ½æœ‰ä¸€ä¸ªå”¯ä¸€çš„â€œä¸»äººâ€ï¼ˆæ¨¡å—ï¼‰ã€‚åˆ«äººè¦ç”¨è¿™äº›æ•°æ®ï¼Œå¿…é¡»æ‰¾ä¸»äººç”³è¯·ï¼Œ**ä¸¥ç¦ç§è‡ªå»æŸ¥åˆ«äººçš„è¡¨**ã€‚

| æ•°æ®è¡¨ (Data Table) | **å”¯ä¸€ä¸»äºº (Owner Module)** | è¯´æ˜ |
| :--- | :--- | :--- |
| `users` (ç”¨æˆ·), `user_profiles` (ç”»åƒ) | **User (ç”¨æˆ·æ¨¡å—)** | æ ¸å¿ƒç”¨æˆ·æ•°æ® |
| `roles` (è§’è‰²), `permissions` (æƒé™), `role_permissions` | **User (ç”¨æˆ·æ¨¡å—)** | æƒé™æ§åˆ¶ä¹Ÿå½’ç”¨æˆ·ç®¡ |
| `user_wallets` (é’±åŒ…), `wallet_transactions` (æµæ°´) | **User (ç”¨æˆ·æ¨¡å—)** | é’±çš„äº‹ï¼Œå½’ç”¨æˆ·ç®¡ |
| `creators` (åˆ›ä½œè€…) | **User (ç”¨æˆ·æ¨¡å—)** | åˆ›ä½œè€…ä¹Ÿæ˜¯ç”¨æˆ·çš„ä¸€ç§ |
| `image_materials`, `video_materials`, `audio_materials` | **Material (åª’èµ„æ¨¡å—)** | æ‰€æœ‰çš„ç´ ææ–‡ä»¶ |
| `video_templates` (æ¨¡æ¿), `tts_configs` (é…éŸ³) | **Material (åª’èµ„æ¨¡å—)** | åˆ›ä½œæ‰€éœ€çš„èµ„æº |
| `video_generation_tasks` (ç”Ÿæˆä»»åŠ¡) | **Creation (åˆ›ä½œæ¨¡å—)** | æ ¸å¿ƒä»»åŠ¡çŠ¶æ€ |
| `video_edit_projects` (å‰ªè¾‘å·¥ç¨‹) | **Creation (åˆ›ä½œæ¨¡å—)** | å‰ªè¾‘æ•°æ® |
| `task_resources` (ä»»åŠ¡èµ„æºå…³è”) | **Creation (åˆ›ä½œæ¨¡å—)** | ä»»åŠ¡ç”¨äº†å“ªäº›èµ„æº |
| `task_scheduling_configs` (è°ƒåº¦é…ç½®) | **Creation (åˆ›ä½œæ¨¡å—)** | ä»»åŠ¡æ€ä¹ˆæ’é˜Ÿ |
| `user_generated_content` (UGC) | **Community (ç¤¾åŒºæ¨¡å—)** | ç”¨æˆ·å‘å¸ƒçš„ä½œå“ |
| `user_activity_logs` (æ´»è·ƒæ—¥å¿—) | **Community (ç¤¾åŒºæ¨¡å—)** | ç”¨æˆ·çš„è¶³è¿¹ |
| `content_reviews` (å®¡æ ¸), `review_rules` (è§„åˆ™) | **Admin (ç®¡ç†æ¨¡å—)** | å®¡æ ¸ç›¸å…³ |
| `system_configs` (ç³»ç»Ÿ), `storage_configs` (å­˜å‚¨) | **Admin (ç®¡ç†æ¨¡å—)** | å…¨å±€é…ç½® |
| `transcoding_configs` (è½¬ç ), `ai_models` (æ¨¡å‹) | **Admin (ç®¡ç†æ¨¡å—)** | æŠ€æœ¯å‚æ•°é…ç½® |
| `daily_statistics` (ç»Ÿè®¡), `task_statistics`, `financial_statistics`, `operation_logs` | **Admin (ç®¡ç†æ¨¡å—)** | æŠ¥è¡¨å’Œå®¡è®¡ |

**å£è¯€ï¼š**
> **â€œä¸€ä¸ªè¡¨åªç”Ÿä¸€ä¸ª Mapperï¼Œåªç”Ÿä¸€ä¸ª Serviceï¼Œéƒ½æ”¾åœ¨å”¯ä¸€çš„æ¨¡å—é‡Œã€‚**
> **ä¸ç®¡ä½ åœ¨å“ªä¸ªæ–‡ä»¶å¤¹å†™ä»£ç ï¼Œè¦ç”¨æ•°æ®å°±æŠŠé‚£ä¸ª Service æ³¨å…¥è¿›æ¥ï¼ˆ@Autowiredï¼‰ï¼Œ**
> **åƒä¸‡åˆ«å·å·è‡ªå·±å†™ SQL å»æŸ¥åˆ«äººçš„è¡¨ã€‚â€**

### 2.2 åŸå¸‚å»ºç­‘åŠŸèƒ½
*   **ğŸ“‚ Controller (è¥ä¸šå…)**: æ”¾åœ¨ `modules/xxx/controller`ã€‚
    *   ä½œç”¨ï¼šç›´æ¥æ¥å¾…â€œå‰ç«¯â€è¿™ä¸ªå®¢æˆ·ï¼Œæ¥æ”¶è¯·æ±‚ï¼Œè¿”å›ç»“æœã€‚
    *   *å£è¯€ï¼šåªåšæ¥å¾…ï¼Œä¸å¹²å®äº‹ã€‚*
*   **âš™ï¸ Service (åŠäº‹å¤„)**: æ”¾åœ¨ `modules/xxx/service`ã€‚
    *   ä½œç”¨ï¼šå¤„ç†å…·ä½“çš„ä¸šåŠ¡é€»è¾‘ï¼ˆæ¯”å¦‚ç®—é’±ã€æ ¡éªŒã€è°ƒAIæ¥å£ï¼‰ã€‚
    *   *å£è¯€ï¼šè„æ´»ç´¯æ´»éƒ½åœ¨è¿™ã€‚*
*   **ğŸ“š Mapper (æ¡£æ¡ˆå®¤)**: æ”¾åœ¨ `modules/xxx/mapper`ã€‚
    *   ä½œç”¨ï¼šåªè·Ÿæ•°æ®åº“æ‰“äº¤é“ï¼ŒæŸ¥è¡¨ã€æ’è¡¨ã€‚
    *   *å£è¯€ï¼šä¸æ‡‚ä¸šåŠ¡ï¼Œåªç®¡å­˜å–ã€‚*

### æ ¸å¿ƒè§„èŒƒ (æ­»æ­»è®°ä½)
1.  **æ¥å£è¿”å›**: æ‰€æœ‰ Controller çš„æ–¹æ³•è¿”å›ç±»å‹å¿…é¡»æ˜¯ `Result<T>`ã€‚
2.  **é©¼å³°æ˜ å°„**: æ•°æ®åº“é‡Œçš„ `user_id`ï¼Œåœ¨ Java é‡Œè‡ªåŠ¨å¯¹åº” `userId`ã€‚

---

## 3. ğŸ¨ å‰ç«¯å¼€å‘åœ°å›¾ (Frontend Map)

å‰ç«¯å¼€å‘éå¸¸çº¯ç²¹ï¼Œåªè´Ÿè´£â€œè¦æ•°æ®â€å’Œâ€œç”»é¡µé¢â€ã€‚

*   **`src/api` (ç”µè¯æœ¬)**: è¿™é‡Œå­˜æ”¾æ‰€æœ‰çš„åç«¯æ¥å£å®šä¹‰ã€‚
    *   *è§„èŒƒ*: **ä¸è¦åœ¨é¡µé¢é‡Œç›´æ¥å†™ `axios.get('/user/info')`ï¼** å¿…é¡»åœ¨ `api` æ–‡ä»¶å¤¹é‡Œå°è£…æˆå‡½æ•°ï¼Œæ¯”å¦‚ `export function getUserInfo() {}`ã€‚
*   **`src/views` (å±•ç¤ºå…)**: è¿™é‡Œå­˜æ”¾ `.vue` é¡µé¢æ–‡ä»¶ã€‚
    *   ç»“æ„å’Œåç«¯çš„ `modules` ä¸€æ ·ï¼Œåˆ†æˆäº† `user`, `creation` ç­‰æ–‡ä»¶å¤¹ã€‚

### å…³äº Token (å…æ‰“æ‰°æ¨¡å¼)
æˆ‘ä»¬å°è£…äº† `request.js`ï¼Œå®ƒä¼šè‡ªåŠ¨åœ¨è¯·æ±‚å¤´é‡Œå¸¦ä¸Š `Authorization`ã€‚ä½ å†™ä»£ç æ—¶**å®Œå…¨ä¸ç”¨ç®¡ Token**ï¼Œå°±åƒå®ƒä¸å­˜åœ¨ä¸€æ ·ã€‚

---

## 4. ğŸš€ ä½ çš„ç¬¬ä¸€ä¸ªä»»åŠ¡ (Hello World Flow)

**ä»»åŠ¡åœºæ™¯**: æˆ‘ä»¬éœ€è¦åšä¸€ä¸ªâ€œæŸ¥çœ‹ç”¨æˆ·è¯¦æƒ…â€çš„åŠŸèƒ½ã€‚
**åç«¯é˜Ÿå‘˜ A** è´Ÿè´£å†™æ¥å£ï¼Œ**å‰ç«¯é˜Ÿå‘˜ B** è´Ÿè´£ç”»é¡µé¢ã€‚**äº’ä¸å¹²æ‰°ï¼Œé€šè¿‡ API æ–‡æ¡£æ²Ÿé€šã€‚**

---

### Phase 1: åç«¯é˜Ÿå‘˜ A çš„ä»»åŠ¡ï¼ˆæä¾› APIï¼‰
ç›®æ ‡ï¼šæä¾›ä¸€ä¸ª `GET /user/info/{id}` æ¥å£ã€‚

**ç¬¬ä¸€æ­¥ï¼šæ¡£æ¡ˆå®¤ (Mapper)**
åœ¨ `backend/.../modules/user/mapper` ä¸‹æ–°å»º `UserMapper.java`ã€‚ç»§æ‰¿ MyBatis-Plus çš„ `BaseMapper`ï¼Œç¬é—´æ‹¥æœ‰æŸ¥è¯¢èƒ½åŠ›ã€‚
```java
@Mapper
public interface UserMapper extends BaseMapper<User> {}
```

**ç¬¬äºŒæ­¥ï¼šåŠäº‹å¤„ (Service)**
åœ¨ `backend/.../modules/user/service` ä¸‹æ–°å»º `UserService.java` å’Œ `impl/UserServiceImpl.java`ã€‚
```java
@Service
public class UserServiceImpl extends ServiceImpl<UserMapper, User> implements UserService {}
```

**ç¬¬ä¸‰æ­¥ï¼šè¥ä¸šå… (Controller)**
åœ¨ `backend/.../modules/user/controller` ä¸‹æ–°å»º `UserController.java`ï¼ŒæŠŠæœåŠ¡æš´éœ²å‡ºå»ã€‚
```java
@RestController
@RequestMapping("/user")
@Tag(name = "ç”¨æˆ·ç®¡ç†")
public class UserController {
    @Autowired
    private UserService userService;

    @GetMapping("/info/{id}")
    public Result<User> getUserInfo(@PathVariable String id) {
        User user = userService.getById(id);
        return Result.success(user);
    }
}
```
**ğŸ‰ åç«¯å®Œå·¥ï¼** å‘Šè¯‰å‰ç«¯ï¼šâ€œæ¥å£å¥½äº†ï¼Œè·¯å¾„æ˜¯ `/user/info/{id}`â€ã€‚

---

### Phase 2: å‰ç«¯é˜Ÿå‘˜ B çš„ä»»åŠ¡ï¼ˆæ¶ˆè´¹ APIï¼‰
ç›®æ ‡ï¼šåœ¨ä¸ªäººèµ„æ–™é¡µå±•ç¤ºç”¨æˆ·åã€‚ä½ **ä¸éœ€è¦çŸ¥é“**åç«¯æ€ä¹ˆæŸ¥åº“çš„ï¼Œåªéœ€è¦çŸ¥é“åç«¯ç»™äº†ä¸ª URLã€‚

**ç¬¬ä¸€æ­¥ï¼šç”µè¯æœ¬ (Define API)**
åœ¨ `frontend/src/api/user/index.js` é‡Œç™»è®°è¿™ä¸ªæ–°æ¥å£ï¼š
```javascript
import request from '@/utils/request'

export function getUserInfoApi(id) {
  return request({
    url: `/user/info/${id}`, // å’Œåç«¯ Controller å¯¹åº”
    method: 'get'
  })
}
```

**ç¬¬äºŒæ­¥ï¼šå±•ç¤ºå… (Build View)**
åœ¨ `frontend/src/views/user/Profile.vue` é‡Œè°ƒç”¨å®ƒï¼š
```vue
<script setup>
import { onMounted, ref } from 'vue'
import { getUserInfoApi } from '@/api/user' // å¼•å…¥ç”µè¯æœ¬

const user = ref({})

onMounted(async () => {
  // è°ƒç”¨æ¥å£ï¼Œæ‹¿åˆ°æ•°æ®
  const res = await getUserInfoApi('123') 
  user.value = res.data
})
</script>

<template>
  <div>
    <h2>ä½ å¥½ï¼Œ{{ user.username }}</h2>
  </div>
</template>
```
**ğŸ‰ å‰ç«¯å®Œå·¥ï¼** é¡µé¢ä¸Šå·²ç»æ˜¾ç¤ºå‡ºç”¨æˆ·åäº†ã€‚

---

## 5. ğŸš‘ é¿å‘æŒ‡å— (FAQ)

1.  **Q: å¯åŠ¨æŠ¥é”™ `Access denied for user 'root'@'localhost'`?**
    *   A: å» `backend/src/main/resources/application.yml` æ£€æŸ¥æ•°æ®åº“å¯†ç æ˜¯ä¸æ˜¯å†™é”™äº†ã€‚

2.  **Q: æ¥å£æŠ¥ 404 Not Found?**
    *   A: æ£€æŸ¥ Controller ä¸Šé¢æœ‰æ²¡æœ‰åŠ  `@RestController` å’Œ `@RequestMapping`ã€‚
    *   A: æ£€æŸ¥å‰ç«¯è¯·æ±‚è·¯å¾„æ˜¯ä¸æ˜¯æ‹¼é”™äº†ã€‚

3.  **Q: è·¨æ¨¡å—è°ƒç”¨æŠ¥é”™ï¼Ÿ**
    *   A: è®°ä½é‚£å¥è¯ï¼š**æ‰¾ä¸»äººç”³è¯·**ã€‚æ¯”å¦‚åœ¨åˆ›ä½œæ¨¡å—é‡Œè¦æ‰£é’±ï¼Œè¯· `@Autowired private WalletService walletService`ï¼Œè€Œä¸æ˜¯è‡ªå·±å»è¿é’±åŒ…çš„è¡¨ã€‚

4.  **Q: å‰ç«¯é¡µé¢æ”¹äº†æ²¡ååº”ï¼Ÿ**
    *   A: Vue çš„å˜é‡å¦‚æœè¦åœ¨é¡µé¢ä¸Šè‡ªåŠ¨æ›´æ–°ï¼Œå¿…é¡»ç”¨ `ref()` æˆ– `reactive()` åŒ…è£¹ã€‚

åŠ æ²¹ï¼Œå°‘å¹´ï¼ä»£ç ä¹‹è·¯å°±åœ¨è„šä¸‹ï¼ğŸš€
